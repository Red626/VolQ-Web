jQuery(function(s){s(document).ready(function(){var t=[],o=[],n=0,r="",a="",e="",i=null,c=0,l=0,p=0,u=0,d=s.Callbacks();s(window).scroll(function(){var t=s(this).scrollTop();r=t>n?"down":"up",n=t}),s.fn.stickUp=function(n){s(this).addClass("stuckMenu");var v=0;if(null!=n){for(var f in n.parts)n.parts.hasOwnProperty(f)&&(o[v]=n.parts[v],v++);a=n.itemClass,e=n.itemHover,null!=n.topMargin?"auto"==n.topMargin?u=parseInt(s(".stuckMenu").css("margin-top")):isNaN(n.topMargin)&&n.topMargin.search("px")>0?u=parseInt(n.topMargin.replace("px","")):isNaN(parseInt(n.topMargin))?(console.log("incorrect argument, ignored."),u=0):u=parseInt(n.topMargin):u=0,i=s("."+a).size()}d.add(function(i,d){return c=parseInt(i.height()),l=parseInt(i.css("margin-bottom")),p=parseInt(i.next().closest("div").css("margin-top")),vartop=parseInt(i.offset().top),function(){function v(n){contentView=.4*s("#"+o[n]).height(),testView=t[n]-contentView,varscroll>testView?(s("."+a).removeClass(e),s("."+a+":eq("+n+")").addClass(e)):50>varscroll&&(s("."+a).removeClass(e),s("."+a+":eq(0)").addClass(e))}if(varscroll=parseInt(s(document).scrollTop()),null!=d)for(var f=0;d>f;f++)t[f]=s("#"+o[f]).offset().top,"down"==r&&varscroll>t[f]-50&&varscroll<t[f]+50&&(s("."+a).removeClass(e),s("."+a+":eq("+f+")").addClass(e)),"up"==r&&v(f);varscroll+u>vartop&&(n&&n.class&&i.addClass(n.class),i.addClass("isStuck"),i.next().closest("div").css({"margin-top":c+l+p+"px"},10),i.css("position","fixed"),"undefined"==typeof n?i.css({top:"0px"},10,function(){}):i.css({top:n.top||"0px"},10,function(){})),vartop>varscroll+u&&(n&&i.removeClass(n.class),i.removeClass("isStuck"),i.next().closest("div").css({"margin-top":p+"px"},10),i.css("position","relative"))}}(s(this),i)),s(document).unbind("scroll.stick"),s(document).bind("scroll.stick",function(){d.fire()})}})});